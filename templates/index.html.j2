<!DOCTYPE html>
<html>
<head>
    <title>My DataTables Example</title>
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="//cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
</head>
<body>
    <table id="myTable" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Column 1</th>
                <th>Column 2</th>
                <th>Column 3</th>
            </tr>
        </thead>
    </table>

    <script type="text/javascript">
        
        $(document).ready(function() {
            let csrfToken = "{{ csrf_token }}";
            $('#myTable').DataTable({
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url": "{{url('mymodel_json')}}",
                    "type": "POST",  // Specify the HTTP method as POST
                    "headers": {
                        "X-CSRFToken": csrfToken  // Include the CSRF token in the request headers
                    }
                },
                "columns": [
                    {"data": "id"},
                    {"data": "name"},
                    {"data": "price"}
                ]
            });
        });

    </script>
</body>
</html>
